#!/bin/bash

cd $DOCKER_HOME

if [ -e "numgeom/.git" ]
then
    echo "NumGeom was already cloned. Pulling from repository"

    cd $DOCKER_HOME/numgeom
    git pull --recurse-submodules
else
    cd $DOCKER_HOME
    git clone git@bitbucket.org:numgeom/numgeom.git

    # Checkout submodule ParaCoder
    cd numgeom
    git submodule init
    git submodule update

    # Checkout submodules of ParaCoder
    cd ParaCoder
    git checkout master
    git submodule init
    git submodule update
    git submodule foreach git checkout master
fi
